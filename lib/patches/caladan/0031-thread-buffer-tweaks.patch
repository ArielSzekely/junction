From d44a3c900660944a41554ba16e4d3e1b581ef1fd Mon Sep 17 00:00:00 2001
From: Josh Fried <joshuafried@gmail.com>
Date: Sun, 14 Jul 2024 21:07:42 -0400
Subject: [PATCH 31/35] thread buffer tweaks

---
 inc/runtime/thread.h | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/inc/runtime/thread.h b/inc/runtime/thread.h
index 4bad3ba..afe0eb0 100644
--- a/inc/runtime/thread.h
+++ b/inc/runtime/thread.h
@@ -120,7 +120,7 @@ struct thread {
     bool        xsave_area_in_use:1;
     atomic8_t        interrupt_state;
     struct thread_tf    *entry_regs;
-    unsigned long    junction_tstate_buf[25];
+    unsigned long    junction_tstate_buf[6];
     struct stack        *stack;
     uint16_t        last_cpu;
     uint16_t        cur_kthread;
@@ -133,6 +133,7 @@ struct thread {
     struct list_node    gc_link;
     unsigned int        onk;
 #endif
+    unsigned long    junction_cold_state_buf[32];
 };
 
 extern uint64_t thread_get_total_cycles(thread_t *th);
-- 
2.43.0

